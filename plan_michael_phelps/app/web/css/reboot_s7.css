/*
  S7 FRONTEND REBOOT OVERRIDES
  Focus: navigation clarity, button personality, shell/wizard cohesion
*/

body.app-mode-v4 {
  background:
    radial-gradient(circle at 6% -10%, rgba(37, 99, 235, 0.32), transparent 38%),
    radial-gradient(circle at 92% 0%, rgba(14, 165, 233, 0.24), transparent 42%),
    linear-gradient(160deg, #f2f7ff 0%, #eef3fb 52%, #e4ebf6 100%);
}

body.app-mode-v4::before {
  opacity: 0.52;
}

body.app-mode-v4 .glass-header {
  background: rgba(255, 255, 255, 0.78);
  border-bottom-color: rgba(148, 163, 184, 0.24);
  box-shadow: 0 10px 30px -24px rgba(15, 23, 42, 0.6);
}

body.app-mode-v4 .glass-header.is-scrolled {
  background: rgba(255, 255, 255, 0.92);
  box-shadow: 0 14px 32px -24px rgba(15, 23, 42, 0.75);
}

body.app-mode-v4 .shell-sidebar {
  background: linear-gradient(180deg, #0b1224 0%, #121b34 100%);
  border-right: 1px solid rgba(148, 163, 184, 0.2);
  box-shadow: 22px 0 44px -36px rgba(2, 6, 23, 0.95);
}

body.app-mode-v4 .shell-sidebar .text-brand-600,
body.app-mode-v4 .shell-sidebar .text-slate-400,
body.app-mode-v4 .shell-sidebar .text-slate-500 {
  color: #cbd5e1 !important;
}

body.app-mode-v4 .shell-sidebar .border-slate-100 {
  border-color: rgba(148, 163, 184, 0.2) !important;
}

body.app-mode-v4 .shell-sidebar .bg-slate-50 {
  background: rgba(255, 255, 255, 0.04) !important;
}

body.app-mode-v4 .shell-sidebar .bg-slate-200 {
  background: rgba(148, 163, 184, 0.28) !important;
}

body.app-mode-v4 .shell-sidebar [data-view-nav] {
  border: 1px solid rgba(148, 163, 184, 0.28);
  background: rgba(15, 23, 42, 0.42);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

body.app-mode-v4 .shell-sidebar [data-view-nav]:not(.bg-brand-600) {
  color: #dbeafe;
}

body.app-mode-v4 .shell-sidebar [data-view-nav]:not(.bg-brand-600):hover {
  border-color: rgba(147, 197, 253, 0.62);
  background: rgba(30, 41, 59, 0.86);
  color: #eff6ff;
  box-shadow: 0 12px 24px -18px rgba(37, 99, 235, 0.75);
}

body.app-mode-v4 .shell-sidebar [data-view-nav].bg-brand-600 {
  border-color: rgba(191, 219, 254, 0.75);
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 55%, #0ea5e9 100%);
  box-shadow:
    0 14px 28px -18px rgba(37, 99, 235, 0.92),
    inset 0 1px 0 rgba(255, 255, 255, 0.24);
}

body.app-mode-v4 .shell-sidebar .nav-group-label {
  margin: 0 0 0.5rem;
  padding-inline: 0.25rem;
  font-size: 0.68rem;
  font-weight: 700;
  letter-spacing: 0.13em;
  text-transform: uppercase;
  color: rgba(191, 219, 254, 0.74);
}

body.app-mode-v4 .shell-sidebar button:focus-visible {
  outline-color: rgba(147, 197, 253, 0.95);
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.34);
}

body.app-mode-v4 [data-shell-action="open-session"],
body.app-mode-v4 .session-mini-cta,
body.app-mode-v4 .btn-primary {
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 55%, #0ea5e9 100%);
  border: 1px solid rgba(191, 219, 254, 0.72);
  color: #ffffff;
  border-radius: 14px;
  box-shadow: 0 16px 34px -20px rgba(29, 78, 216, 0.9);
  transition: transform 220ms ease, box-shadow 220ms ease, filter 220ms ease;
}

body.app-mode-v4 [data-shell-action="open-session"]:hover,
body.app-mode-v4 .session-mini-cta:hover,
body.app-mode-v4 .btn-primary:hover {
  transform: translateY(-1px);
  filter: saturate(1.06);
  box-shadow: 0 20px 40px -20px rgba(29, 78, 216, 0.95);
}

body.app-mode-v4 [data-shell-action="open-roadmap"],
body.app-mode-v4 .btn-secondary {
  background: linear-gradient(180deg, #ffffff 0%, #f8fbff 100%);
  border: 1px solid rgba(148, 163, 184, 0.45);
  color: #0f172a;
  border-radius: 14px;
}

body.app-mode-v4 .btn-ghost {
  border-radius: 14px;
  color: #334155;
}

body.app-mode-v4 .btn-secondary:hover,
body.app-mode-v4 .btn-ghost:hover,
body.app-mode-v4 [data-shell-action="open-roadmap"]:hover {
  border-color: rgba(59, 130, 246, 0.54);
  background: #ffffff;
}

body.app-mode-v4 .wizard-workspace .wizard-top {
  border-color: rgba(125, 211, 252, 0.45);
  background: linear-gradient(135deg, #0b1224 0%, #1e3a8a 58%, #0ea5e9 100%);
  box-shadow: 0 20px 38px -24px rgba(15, 23, 42, 0.95);
}

body.app-mode-v4 .wizard-workspace .step-card {
  border-color: rgba(148, 163, 184, 0.34);
  background: linear-gradient(160deg, #ffffff 0%, #f5f9ff 100%);
  box-shadow: 0 16px 32px -24px rgba(15, 23, 42, 0.72);
}

body.app-mode-v4 .wizard-workspace .step-rail-item {
  border-color: rgba(148, 163, 184, 0.32);
  background: linear-gradient(180deg, #ffffff 0%, #f8fbff 100%);
}

body.app-mode-v4 .wizard-workspace .step-rail-item.is-active {
  border-color: rgba(59, 130, 246, 0.5);
  background: linear-gradient(180deg, #eaf3ff 0%, #f3f8ff 100%);
}

body.app-mode-v4 .wizard-workspace .step-rail-item.is-done {
  border-color: rgba(16, 185, 129, 0.45);
  background: linear-gradient(180deg, #edfdf5 0%, #f5fff9 100%);
}

body.app-mode-v4 .wizard-workspace .progress-fill {
  background: linear-gradient(90deg, #0ea5e9 0%, #2563eb 52%, #1d4ed8 100%);
}

@media (max-width: 1023px) {
  body.app-mode-v4 .shell-main {
    padding-bottom: 5.5rem;
  }

  body.app-mode-v4 .lg-hidden [data-view-nav] {
    min-width: 52px;
  }

  body.app-mode-v4 .lg-hidden [data-view-nav] span {
    opacity: 0.82 !important;
    height: auto !important;
  }
}
